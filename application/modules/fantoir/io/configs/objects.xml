<?xml version="1.0" encoding="UTF-8"?>
<config>
	<objects>
		<object id="IO\Fantoir\Commune" backend="mongo">
			<label>Commune</label>
			<properties>
				<property id="label" type="string">
					<label>Nom</label>
					<constraints>
						<mandatory/>
						<protected/>
					</constraints>
				</property>
				<property id="departement" type="string">
					<label>Département</label>
					<constraints>
						<mandatory/>
						<protected/>
					</constraints>
				</property>
				<property id="insee" type="string">
					<label>Code INSEE</label>
				</property>
				<property id="codepostal" type="string">
					<label>Code Postal</label>
				</property>
				<property id="creation" type="date">
					<label>Création</label>
				</property>
				<property id="suppression" type="date">
					<label>Suppression</label>
				</property>
				<property id="country" type="string">
					<label>Pays</label>
					<defaultvalue>FR</defaultvalue>
				</property>
				<property id="voies" type="collection">
					<label>Voies</label>
					<instanceof>IO\Fantoir\Voie</instanceof>
					<keyprop>_commune</keyprop>
				</property>
			</properties>
		</object>
		<object id="IO\Fantoir\Voie" backend="mongo">
			<label>Voie</label>
			<properties>
				<property id="type" type="string">
					<label>Type</label>
					<constraints>
						<protected/>
					</constraints>
				</property>
				<property id="label" type="string">
					<label>Nom</label>
					<constraints>
						<mandatory/>
						<protected/>
					</constraints>
				</property>
				<property id="commune" type="string">
					<label>Insee Commune</label>
				</property>
				<property id="_commune" type="object">
					<label>Commune</label>
					<instanceof>IO\Fantoir\Commune</instanceof>
					<display>label,codepostal</display>
				</property>
				<property id="code" type="string">
					<label>Code</label>
				</property>
				<property id="cle" type="string">
					<label>Clé</label>
				</property>
				<property id="insee" type="string">
					<label>ID</label>
				</property>
			</properties>
		</object>
	</objects>
</config>
